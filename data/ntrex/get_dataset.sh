#!/bin/bash

# Downloads the parquet shards from Hugging Face and emits text_eng* columns to input.txt
# You can modify INCLUDE_KEYS to pull different language columns from the schema.

set -euo pipefail

# Base URL for the dataset's parquet files
url="https://huggingface.co/datasets/mteb/NTREX/tree/main"

python3 ../template/utils/get_parquet_dataset.py \
  --url "${url}" \
  --include_keys "eng_Latn" "kor_Hang" "zho_Hans" "jpn_Jpan" \
  --value_prefix $'\n#EN:\n' $'\n#KO:\n' $'\n#ZH:\n' $'\n#JA:\n' \
  --output_text_file "input.txt" \
  --skip_empty

languages=(
  "sna_Latn"
  "est_Latn"
  "glg_Latn"
  "bem_Latn"
  "nob_Latn"
  "zul_Latn"
  "hye_Armn"
  "nep_Deva"
  "nld_Latn"
  "zho_Hans"
  "smo_Latn"
  "mlt_Latn"
  "srp_Cyrl"
  "bos_Latn"
  "hrv_Latn"
  "mar_Deva"
  "swa_Latn"
  "ukr_Cyrl"
  "tuk_Latn"
  "ita_Latn"
  "por_Latn"
  "eus_Latn"
  "kir_Cyrl"
  "ewe_Latn"
  "mya_Mymr"
  "yue_Hant"
  "prs_Arab"
  "yor_Latn"
  "kmr_Latn"
  "pus_Arab"
  "hun_Latn"
  "pan_Guru"
  "swe_Latn"
  "wol_Latn"
  "slv_Latn"
  "snd_Arab"
  "bod_Tibt"
  "kor_Hang"
  "urd_Arab"
  "shi_Arab"
  "mon_Mong"
  "sin_Sinh"
  "mal_Mlym"
  "ton_Latn"
  "dzo_Tibt"
  "afr_Latn"
  "fuc_Latn"
  "orm_Ethi"
  "por-BR_Latn"
  "nso_Latn"
  "fij_Latn"
  "bul_Cyrl"
  "cym_Latn"
  "eng-IN_Latn"
  "lav_Latn"
  "amh_Ethi"
  "xho_Latn"
  "lit_Latn"
  "tah_Latn"
  "fra_Latn"
  "tur_Latn"
  "gle_Latn"
  "eng-US_Latn"
  "guj_Gujr"
  "hin_Deva"
  "sqi_Latn"
  "ckb_Arab"
  "eng_Latn"
  "spa-MX_Latn"
  "mlg_Latn"
  "uzb_Latn"
  "lao_Laoo"
  "ben_Beng"
  "ron_Latn"
  "bel_Cyrl"
  "nde_Latn"
  "kaz_Cyrl"
  "pol_Latn"
  "hau_Latn"
  "kat_Geor"
  "fao_Latn"
  "fra-CA_Latn"
  "tha_Thai"
  "tat_Cyrl"
  "mri_Latn"
  "spa_Latn"
  "tam_Taml"
  "tgk_Cyrl"
  "kan_Knda"
  "deu_Latn"
  "aze_Latn"
  "vie_Latn"
  "ven_Latn"
  "slk_Latn"
  "cat_Latn"
  "hmn_Latn"
  "som_Latn"
  "ltz_Latn"
  "kin_Latn"
  "heb_Hebr"
  "rus_Cyrl"
  "dan_Latn"
  "zho_Hant"
  "nno_Latn"
  "arb_Arab"
  "msa_Latn"
  "fas_Arab"
  "mey_Arab"
  "tir_Ethi"
  "ind_Latn"
  "tel_Telu"
  "jpn_Jpan"
  "bak_Cyrl"
  "isl_Latn"
  "ell_Grek"
  "div_Thaa"
  "tsn_Latn"
  "eng-GB_Latn"
  "fin_Latn"
  "nya_Latn"
  "ces_Latn"
  "mkd_Cyrl"
  "ibo_Latn"
  "uig_Arab"
  "ssw_Latn"
  "srp_Latn"
  "fil_Latn"
  "khm_Khmr"
)
