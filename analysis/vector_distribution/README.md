# Vector Distribution Analysis

This tool explores how vectors discretized under various number formats populate the unit sphere.

## Usage

```
python vector_distribution_analysis.py --format <format> [--mode exhaustive|random|gaussian] [--num N] [--mean M] [--std S] [--bins B] [--out PATH] [--out3d PATH] [-e BITS] [-m BITS] [--projection PROJ] [--log]
```

- `--format` chooses among `int3`, `int4`, `int5`, `int6`, `int7`, `int8`, `e4m3`, `e5m2`, or `fp16`.
- `--mode` selects full enumeration of all possible 3â€‘d vectors (`exhaustive`), uniform random sampling from representable values (`random`), or Gaussian random initialization (`gaussian`).
- `--num` sets the number of vectors generated for `random` or `gaussian` modes.
- `--mean` and `--std` configure the mean and standard deviation for Gaussian initialization (defaults: 0.0 and 0.02).
- `--bins` configures the angular binning resolution for rectangular projections.
- `-e`, `--exp` overrides the number of exponent bits used when the format is floating point.
- `-m`, `--mant` overrides the number of mantissa bits for floating formats.
- `--out` path for the generated heatmap image (default: `images/heatmap.png`).
- `--out3d` optional path for a 3D heatmap rendered on the unit sphere. If the
  path ends with `.html` an interactive view is created; otherwise a static PNG
  is saved.
- `--projection` chooses the heatmap projection. `equal-area` (default) uses a
  rectangular grid in `phi`/`cos(theta)`, while `angular` corresponds to the
  traditional latitude/longitude representation.
- `--log` plots the heatmap using a logarithmic color scale.

Floating-point formats are simulated by mapping the specified exponent and
mantissa bit widths to values representable in `float16`. For example,
`--format e4m3` internally uses `float16` with `-e 4 -m 3`.

Example:

```
python vector_distribution_analysis.py --format int3 --mode exhaustive
python vector_distribution_analysis.py --format e5m2 --mode random -e 5 -m 2 --num 500
python vector_distribution_analysis.py --format int3 --projection angular
```

The script outputs a heatmap showing the density of vectors across the surface of the unit sphere.
By default an equal-area projection is used so each bin covers the same area of the sphere.

Images generated by this script can be placed in the `images/` directory.

### Example Output

Running the script for the smallest integer format produces a heatmap such as
`int3_heatmap.png` and an accompanying 3D rendering. The 3D view can be saved as
`int3_heatmap_3d.html` for interactive exploration or `int3_heatmap_3d.png` for
a static image. Example outputs for `int3` are provided in the `images/`
directory.
